var celgeneDynamicNewsroomContent;(function($){var action;celgeneDynamicNewsroomContent={init:function(){App.EventEmitter.on('window:load',function(){$('.content-filter').on('click','.custom-select-menu ul li',celgeneDynamicNewsroomContent.actions.filterType);$('.newsroom-articles .load-more').on('click',celgeneDynamicNewsroomContent.actions.loadMore);});},actions:{filterType:function(e){e.preventDefault();if($(e.target).data('option-value')===$('.content-filter').data('type-id'))
return;App.EventEmitter.emit('newsroom:filter-change',$(e.target).data('option-value'));action='filter-articles';if('show-all'!==$(e.target).data('option-value'))
$('.content-filter').data('type-id',$(e.target).data('option-value'));else
$('.content-filter').data('type-id','');$('.content-filter').data('offset',0);$('.content-filter').data('exclude',0);$('#curated .custom-select-menu ul li a.active').removeClass('active');$(e.target).addClass('active');celgeneDynamicNewsroomContent.actions.sendRequest();},loadMore:function(e){action='load-more-articles';celgeneDynamicNewsroomContent.actions.sendRequest();},sendRequest:function(){var data={action:action,exclude:$('.content-filter').data('exclude'),offset:$('.content-filter').data('offset'),post_type:'article',type:$('.content-filter').data('type-id')};$('.newsroom-articles .load-more').css('visibility','hidden');$.post(load_more.ajaxurl,data,function(response){$('.content-filter').data('offset',response.newOffset);$('.content-filter').data('type-id',data.type);if('filter-articles'===data.action){$('.content-filter').data('exclude',response.newExclude);$('.newsroom-articles .featured-items, .newsroom-articles .rows').fadeOut(500,function(){$('.newsroom-articles .featured-items').html(response.html.replace(/<script.*?>.*?<\/script>/igm,'')).fadeIn(500);$('.newsroom-articles .rows').html('').fadeIn(500);if(true===response.canLoadMore&&response.html!="")
$('.newsroom-articles .load-more').css('visibility','visible');});}else{$('.newsroom-articles .rows').append(response.html.replace(/<script.*?>.*?<\/script>/igm,''));if(true===response.canLoadMore)
$('.newsroom-articles .load-more').css('visibility','visible');}});}}};$(document).ready(celgeneDynamicNewsroomContent.init);})(jQuery);